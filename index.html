<!doctype html>
<html lang="hr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Novalus Prime ‚Äì Upitnik kompatibilnosti</title>

  <style>
    :root{
      --card-bg: rgba(255,255,255,.10);
      --card-border: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.70);
      --shadow: 0 18px 45px rgba(0,0,0,.38);
      --radius: 18px;
    }

    *{ box-sizing: border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      min-height:100vh;
      background:
        radial-gradient(1200px 800px at 10% 12%, rgba(255,215,0,.26), transparent 55%),
        radial-gradient(900px 700px at 92% 18%, rgba(0,255,255,.16), transparent 55%),
        radial-gradient(900px 700px at 25% 92%, rgba(255,0,128,.16), transparent 55%),
        radial-gradient(900px 700px at 70% 85%, rgba(120,255,0,.10), transparent 55%),
        linear-gradient(135deg, #0b1020 0%, #111a33 35%, #1a1140 70%, #0c1b2f 100%);
    }

    a{ color: #9fd1ff; }
    .wrap{ max-width: 980px; margin: 0 auto; padding: 18px; }

    .hero{
      display:flex; align-items:flex-start; justify-content:space-between; gap: 14px;
      padding: 16px 0 8px;
    }
    .title{
      font-size: 26px;
      font-weight: 900;
      letter-spacing: .2px;
      margin: 0;
    }
    .subtitle{
      margin: 6px 0 0;
      color: var(--muted);
      line-height: 1.4;
      max-width: 62ch;
    }

    .card{
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      backdrop-filter: blur(10px);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px;
      margin: 14px 0;
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 12px;
    }
    @media (min-width: 860px){
      .grid.two{ grid-template-columns: 1fr 1fr; }
    }

    label{ display:block; font-weight: 800; margin-bottom: 6px; }
    .hint{ color: var(--muted); font-size: 13px; margin-top: 6px; }

    input[type="text"], input[type="email"], input[type="tel"], input[type="number"], textarea, select{
      width: 100%;
      padding: 11px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(0,0,0,.25);
      color: var(--text);
      outline: none;
    }
    input::placeholder, textarea::placeholder{ color: rgba(255,255,255,.55); }
    textarea{ min-height: 90px; resize: vertical; }

    .q{
      padding: 14px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.20);
    }
    .qtitle{ font-weight: 900; margin:0 0 10px; }
    .opts{ display:grid; gap: 8px; }
    .opt{
      display:flex; align-items:flex-start; gap: 10px;
      padding: 10px 10px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
    }
    .opt input{ margin-top: 3px; }

    .resultBox{
      background: rgba(0,0,0,.55);
      border: 1px solid rgba(255,255,255,.14);
      border-radius: 16px;
      padding: 14px;
      overflow:auto;
      white-space: pre-wrap;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size: 13px;
      line-height: 1.35;
    }

    .pill{
      display:inline-block;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.08);
      font-size: 13px;
      color: var(--muted);
    }

    /* 3D buttons */
    .btn-row{ display:flex; flex-wrap:wrap; gap: 10px; margin-top: 12px; }
    .btn{
      border: 0;
      cursor: pointer;
      border-radius: 14px;
      padding: 12px 16px;
      font-weight: 900;
      letter-spacing: .2px;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      user-select: none;

      transform: translateY(0);
      box-shadow:
        0 10px 0 rgba(0,0,0,.40),
        0 18px 35px rgba(0,0,0,.40);
      transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
    }
    .btn:hover{ filter: brightness(1.06); }
    .btn:active{
      transform: translateY(7px);
      box-shadow:
        0 3px 0 rgba(0,0,0,.40),
        0 10px 18px rgba(0,0,0,.40);
    }
    .btn-ghost{
      color: rgba(255,255,255,.92);
      background: linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.08));
      border: 1px solid rgba(255,255,255,.18);
    }
    .btn-gold{
      color: #1b1400;
      background: linear-gradient(180deg, #fff1a8 0%, #ffd24d 40%, #f5b300 100%);
      border: 1px solid rgba(255,255,255,.35);
    }
    .btn-green{
      color: #041a07;
      background: linear-gradient(180deg, #c7ffb6 0%, #52e07f 45%, #16b45c 100%);
      border: 1px solid rgba(255,255,255,.30);
    }

    .note{
      color: rgba(255,255,255,.70);
      font-size: 13px;
      line-height: 1.45;
    }

    .okBox{
      margin-top: 10px;
      border-radius: 16px;
      padding: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.20);
    }
    .okLine{ margin:0; line-height: 1.45; }
  </style>
</head>

<body>
  <div class="wrap">

    <div class="hero">
      <div>
        <h1 class="title">Novalus Prime ‚Äì Upitnik kompatibilnosti</h1>
        <p class="subtitle">
          Kandidat popunjava, sustav izraƒçuna bodove i pripremi sa≈æetak.
          Mentor dobiva sa≈æetak kopiranjem / emailom / WhatsAppom / Telegramom.
        </p>
      </div>
      <div class="pill" id="statusPill">Spreman za ispunjavanje</div>
    </div>

    <div class="card">
      <h2 style="margin:0 0 10px;">Podaci mentora (preporuƒçitelja)</h2>
      <div class="grid two">
        <div>
          <label for="mentorId">Mentor ID (za invite link)</label>
          <input id="mentorId" name="mentorId" type="text" placeholder="npr. 43914344" />
          <div class="hint">Od ovoga se gradi Novalus invite link.</div>
        </div>
        <div>
          <label for="mentorEmail">Email mentora</label>
          <input id="mentorEmail" name="mentorEmail" type="email" placeholder="mentor@email.com" />
          <div class="hint">Na ovaj email ƒáe≈° ruƒçno poslati sa≈æetak (1 klik).</div>
        </div>
        <div>
          <label for="mentorPhone">Telefon mentora (za WhatsApp)</label>
          <input id="mentorPhone" name="mentorPhone" type="tel" placeholder="+385..." />
          <div class="hint">Format: +385... (WhatsApp radi najbolje s punim brojem).</div>
        </div>
        <div>
          <label for="candidateName">Ime kandidata</label>
          <input id="candidateName" name="candidateName" type="text" placeholder="Ime i prezime (opcionalno)" />
          <div class="hint">Ako ne upi≈°e, u sa≈æetku ƒáe pisati ‚ÄúKandidat‚Äù.</div>
        </div>
      </div>
    </div>

    <form id="quizForm" class="card">
      <h2 style="margin:0 0 10px;">Pitanja (boduje se 1‚Äì9)</h2>
      <p class="note" style="margin-top:0;">
        Odgovori su namjerno jednostavni ‚Äì poanta je brz profil kandidata.
      </p>

      <!-- 1 -->
      <div class="q">
        <p class="qtitle">1) MLM stav</p>
        <div class="opts">
          <label class="opt"><input type="radio" name="q1" value="25" required> a) Korektan oblik poduzetni≈°tva</label>
          <label class="opt"><input type="radio" name="q1" value="15"> b) Mo≈æe biti dobar uz oprez</label>
          <label class="opt"><input type="radio" name="q1" value="5"> c) Ne vjerujem u to</label>
          <label class="opt"><input type="radio" name="q1" value="0"> d) Negativan stav</label>
        </div>
      </div>

      <!-- 2 -->
      <div class="q">
        <p class="qtitle">2) Nagrade/prihodi ovise o</p>
        <div class="opts">
          <label class="opt"><input type="radio" name="q2" value="25" required> a) Ovisi o paketu</label>
          <label class="opt"><input type="radio" name="q2" value="20"> b) Ovisi o aktivnosti i produkciji strukture</label>
          <label class="opt"><input type="radio" name="q2" value="10"> c) Sreƒái / okolnostima</label>
          <label class="opt"><input type="radio" name="q2" value="0"> d) Ne znam</label>
        </div>
      </div>

      <!-- 3 -->
      <div class="q">
        <p class="qtitle">3) Vrijeme tjedno koje mo≈æe izdvojiti</p>
        <div class="opts">
          <label class="opt"><input type="radio" name="q3" value="25" required> a) 10+ sati</label>
          <label class="opt"><input type="radio" name="q3" value="18"> b) 6‚Äì9 sati</label>
          <label class="opt"><input type="radio" name="q3" value="10"> c) 3‚Äì5 sati</label>
          <label class="opt"><input type="radio" name="q3" value="0"> d) < 3 sata</label>
        </div>
      </div>

      <!-- 4 -->
      <div class="q">
        <p class="qtitle">4) Uƒçenje vje≈°tina</p>
        <div class="opts">
          <label class="opt"><input type="radio" name="q4" value="25" required> a) Uƒçenje je nu≈æno</label>
          <label class="opt"><input type="radio" name="q4" value="12"> b) Uƒçio bih usput</label>
          <label class="opt"><input type="radio" name="q4" value="0"> c) Ne volim uƒçiti</label>
        </div>
      </div>

      <!-- 5 -->
      <div class="q">
        <p class="qtitle">5) Dugoroƒçni rezultati</p>
        <div class="opts">
          <label class="opt"><input type="radio" name="q5" value="25" required> a) Dugoroƒçno prirodno</label>
          <label class="opt"><input type="radio" name="q5" value="12"> b) Mo≈æda, ali nisam siguran</label>
          <label class="opt"><input type="radio" name="q5" value="0"> c) Ne vjerujem u dugoroƒçno</label>
        </div>
      </div>

      <!-- 6 -->
      <div class="q">
        <p class="qtitle">6) Va≈ænost jasnog obja≈°njenja</p>
        <div class="opts">
          <label class="opt"><input type="radio" name="q6" value="25" required> a) Jako va≈æno</label>
          <label class="opt"><input type="radio" name="q6" value="12"> b) Djelomiƒçno</label>
          <label class="opt"><input type="radio" name="q6" value="0"> c) Nije bitno</label>
        </div>
      </div>

      <!-- 7 -->
      <div class="q">
        <p class="qtitle">7) Spremnost na plan 30 dana</p>
        <div class="opts">
          <label class="opt"><input type="radio" name="q7" value="25" required> a) Volim plan</label>
          <label class="opt"><input type="radio" name="q7" value="12"> b) Mo≈æe, ali fleksibilno</label>
          <label class="opt"><input type="radio" name="q7" value="0"> c) Ne volim planove</label>
        </div>
      </div>

      <!-- 8 -->
      <div class="q">
        <p class="qtitle">8) Razgovor s ljudima</p>
        <div class="opts">
          <label class="opt"><input type="radio" name="q8" value="25" required> a) Prirodno mi je</label>
          <label class="opt"><input type="radio" name="q8" value="12"> b) Mogu uz vje≈æbu</label>
          <label class="opt"><input type="radio" name="q8" value="0"> c) Ne ≈æelim razgovarati</label>
        </div>
      </div>

      <!-- 9 -->
      <div class="q">
        <p class="qtitle">9) Financijski okvir</p>
        <div class="opts">
          <label class="opt"><input type="radio" name="q9" value="25" required> a) Spreman ulo≈æiti pametno</label>
          <label class="opt"><input type="radio" name="q9" value="12"> b) Samo minimalno</label>
          <label class="opt"><input type="radio" name="q9" value="0"> c) Nema moguƒánosti</label>
        </div>
      </div>

      <h2 style="margin:16px 0 10px;">Interes (bez bodova)</h2>

      <div class="grid two">
        <div class="q">
          <p class="qtitle">10) ≈†to dalje ≈æeli?</p>
          <div class="opts">
            <label class="opt"><input type="radio" name="i10" value="Kratki video" required> Kratki video</label>
            <label class="opt"><input type="radio" name="i10" value="Zoom poziv"> Zoom poziv</label>
            <label class="opt"><input type="radio" name="i10" value="Zasad ni≈°ta"> Zasad ni≈°ta</label>
          </div>
        </div>

        <div class="q">
          <p class="qtitle">11) Tombola / webinar</p>
          <div class="opts">
            <label class="opt"><input type="radio" name="i11" value="Prisustvovati i sudjelovati" required> Prisustvovati i sudjelovati</label>
            <label class="opt"><input type="radio" name="i11" value="Mo≈æda kasnije"> Mo≈æda kasnije</label>
            <label class="opt"><input type="radio" name="i11" value="Ne zanima"> Ne zanima</label>
          </div>
        </div>

        <div class="q">
          <p class="qtitle">12) Preporuka druge osobe</p>
          <div class="opts">
            <label class="opt"><input type="radio" name="i12" value="Da" required> Da</label>
            <label class="opt"><input type="radio" name="i12" value="Ne"> Ne</label>
          </div>
        </div>

        <div class="q">
          <p class="qtitle">Napomena kandidata (opcionalno)</p>
          <textarea id="candidateNote" name="candidateNote" placeholder="Mo≈æe≈° dodati svoj komentar, pitanje ili situaciju..."></textarea>
        </div>
      </div>

      <div class="btn-row" style="margin-top:14px;">
        <button class="btn btn-ghost" type="submit">‚úÖ Izraƒçunaj rezultat</button>
        <button class="btn btn-ghost" type="button" id="btnReset">‚Ü© Reset</button>
      </div>
    </form>

    <div class="card" id="resultCard" style="display:none;">
      <h2 style="margin:0 0 10px;">Rezultat</h2>

      <div class="okBox">
        <p class="okLine" id="scoreLine"></p>
        <p class="okLine" id="rangeLine"></p>
        <p class="okLine" id="passLine"></p>
      </div>

      <div class="okBox" style="margin-top:10px;">
        <p class="okLine"><strong>Invite link (mentor):</strong> <a href="#" id="inviteLink" target="_blank" rel="noopener noreferrer">‚Äî</a></p>
      </div>

      <h3 style="margin:14px 0 8px;">Sa≈æetak (za mentora)</h3>
      <div class="resultBox" id="mentorSummary"></div>

      <div class="btn-row">
        <button id="btnCopy" class="btn btn-ghost" type="button">üìã Kopiraj rezultate</button>
        <button id="btnEmail" class="btn btn-ghost" type="button">‚úâÔ∏è Po≈°alji email mentoru</button>
        <button id="btnWA" class="btn btn-ghost" type="button">üü¢ WhatsApp mentoru</button>
        <button id="btnTG" class="btn btn-ghost" type="button">üì® Telegram mentoru</button>
      </div>

      <p class="note" style="margin-top:12px;">
        Privatnost: ovaj upitnik ne ≈°alje podatke nikamo sam od sebe. Sve ostaje u pregledniku dok mentor ruƒçno ne po≈°alje sa≈æetak.
      </p>
    </div>

  </div>

  <script>
    // ===== POSTAVKE =====
    const PASS_THRESHOLD = 120; // prag bodova
    const ranges = [
      { min: 151, max: 220, label: "151‚Äì220: vrlo dobra kompatibilnost", rec: "Preporuka: ukljuƒçivanje uz mentorstvo i konkretne korake." },
      { min: 81,  max: 150, label: "81‚Äì150: potencijal postoji",       rec: "Preporuka: sporiji tempo, jasna oƒçekivanja, dogovor oko plana." },
      { min: 0,   max: 80,  label: "0‚Äì80: trenutno nezrelo",           rec: "Preporuka: edukacija i pauza; bez pritiska." }
    ];

    // ===== DOM =====
    const quizForm = document.getElementById("quizForm");
    const resultCard = document.getElementById("resultCard");
    const mentorSummaryEl = document.getElementById("mentorSummary");
    const statusPill = document.getElementById("statusPill");

    const mentorIdEl = document.getElementById("mentorId");
    const mentorEmailEl = document.getElementById("mentorEmail");
    const mentorPhoneEl = document.getElementById("mentorPhone");
    const candidateNameEl = document.getElementById("candidateName");
    const inviteLinkEl = document.getElementById("inviteLink");

    const scoreLine = document.getElementById("scoreLine");
    const rangeLine = document.getElementById("rangeLine");
    const passLine  = document.getElementById("passLine");

    const btnReset = document.getElementById("btnReset");
    const btnCopy  = document.getElementById("btnCopy");
    const btnEmail = document.getElementById("btnEmail");
    const btnWA    = document.getElementById("btnWA");
    const btnTG    = document.getElementById("btnTG");

    function safeText(v){ return (v ?? "").toString().trim(); }

    function getCandidateName(){
      return safeText(candidateNameEl.value) || "Kandidat";
    }

    function buildInviteLink(){
      const mentorId = safeText(mentorIdEl.value);
      if(!mentorId) return "";
      return `https://novalusprime.com/Invite/${encodeURIComponent(mentorId)}`;
    }

    function calcScore(){
      const fd = new FormData(quizForm);
      let sum = 0;
      for(let i=1;i<=9;i++){
        const v = fd.get(`q${i}`);
        sum += Number(v || 0);
      }
      return sum;
    }

    function getRange(score){
      // na≈°li smo range u kojem je score
      let r = ranges.find(x => score >= x.min && score <= x.max);
      // fallback
      if(!r) r = ranges[ranges.length - 1];
      return r;
    }

    function getAnswerText(){
      // za sa≈æetak: ispi≈°i odgovore (a/b/c/d) po pitanju
      const fd = new FormData(quizForm);
      const answers = [];

      function pickLabel(name){
        const checked = quizForm.querySelector(`input[name="${name}"]:checked`);
        if(!checked) return "-";
        // uzmi tekst labela (bez inputa)
        const lbl = checked.closest("label");
        return lbl ? lbl.textContent.trim() : checked.value;
      }

      for(let i=1;i<=9;i++){
        answers.push(`${i}) ${pickLabel(`q${i}`)}`);
      }
      const i10 = pickLabel("i10");
      const i11 = pickLabel("i11");
      const i12 = pickLabel("i12");

      return {
        scored: answers.join("\n"),
        interest:
          `10) Dalje ≈æeli: ${i10}\n` +
          `11) Tombola: ${i11}\n` +
          `12) Preporuka druge osobe: ${i12}`
      };
    }

    function paintShareButtons(score){
      const passed = score >= PASS_THRESHOLD;
      const cls = passed ? "btn-gold" : "btn-green";
      [btnEmail, btnWA, btnTG].forEach(b=>{
        b.classList.remove("btn-ghost","btn-gold","btn-green");
        b.classList.add(cls);
      });
    }

    function setInviteUI(){
      const url = buildInviteLink();
      if(url){
        inviteLinkEl.href = url;
        inviteLinkEl.textContent = url;
      }else{
        inviteLinkEl.href = "#";
        inviteLinkEl.textContent = "‚Äî (upi≈°i Mentor ID gore)";
      }
    }

    function makeSummary(score){
      const mentorId = safeText(mentorIdEl.value) || "(nije upisan)";
      const mentorEmail = safeText(mentorEmailEl.value) || "(nije upisan)";
      const mentorPhone = safeText(mentorPhoneEl.value) || "(nije upisan)";
      const candidate = getCandidateName();

      const r = getRange(score);
      const passed = score >= PASS_THRESHOLD;

      const { scored, interest } = getAnswerText();
      const note = safeText(document.getElementById("candidateNote").value);

      const invite = buildInviteLink() || "(upi≈°i Mentor ID da se generira link)";

      return (
`NOVALUS PRIME ‚Äì SA≈ΩETAK UPITNIKA
Mentor ID: ${mentorId}
Mentor email: ${mentorEmail}
Mentor telefon: ${mentorPhone}

Kandidat: ${candidate}

Bodovi: ${score}
Procjena: ${r.label}
Napomena: ${r.rec}

ODGOVORI:
${scored}

INTERES (bez bodova):
${interest}

Napomena kandidata:
${note || "-"}

Invite link (ako kandidat ≈æeli): ${invite}
${passed ? "" : "\nStatus: Kandidat trenutno ne prelazi bodovni prag ‚Äì preporuka bez pritiska."}
`);
    }

    async function copyResults(){
      const text = mentorSummaryEl.innerText.trim();
      if(!text) return alert("Nema sa≈æetka za kopiranje.");
      try{
        await navigator.clipboard.writeText(text);
        alert("Sa≈æetak kopiran. Zalijepi u WhatsApp/Telegram/email.");
      }catch(e){
        const ta = document.createElement("textarea");
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        document.body.removeChild(ta);
        alert("Sa≈æetak kopiran.");
      }
    }

    function sendEmail(){
      const to = safeText(mentorEmailEl.value);
      if(!to) return alert("Nije upisan email mentora.");
      const body = mentorSummaryEl.innerText.trim();
      if(!body) return alert("Nema sa≈æetka za slanje.");

      const subject = "Novalus Prime ‚Äì sa≈æetak upitnika";
      const mailto = `mailto:${encodeURIComponent(to)}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
      window.location.href = mailto;
    }

    function sendWhatsApp(){
      let phone = safeText(mentorPhoneEl.value).replace(/[^\d+]/g,"");
      if(!phone) return alert("Nije upisan telefon mentora.");
      const text = mentorSummaryEl.innerText.trim();
      if(!text) return alert("Nema sa≈æetka za slanje.");

      const waPhone = phone.replace(/^\+/, "");
      const url = `https://wa.me/${waPhone}?text=${encodeURIComponent(text)}`;
      window.open(url, "_blank", "noopener,noreferrer");
    }

    function sendTelegram(){
      const text = mentorSummaryEl.innerText.trim();
      if(!text) return alert("Nema sa≈æetka za slanje.");
      const url = `https://t.me/share/url?text=${encodeURIComponent(text)}`;
      window.open(url, "_blank", "noopener,noreferrer");
    }

    quizForm.addEventListener("submit", (e)=>{
      e.preventDefault();

      const score = calcScore();
      const r = getRange(score);
      const passed = score >= PASS_THRESHOLD;

      setInviteUI();

      scoreLine.textContent = `Ukupno bodova: ${score}`;
      rangeLine.textContent = `${r.label} ‚Äì ${r.rec}`;
      passLine.textContent  = passed
        ? `Kandidat zadovoljava bodovni prag (${PASS_THRESHOLD}). Ako ≈æeli, mo≈æe se ukljuƒçiti preko mentor linka.`
        : `Kandidat NE prelazi bodovni prag (${PASS_THRESHOLD}). Preporuka: edukacija i bez pritiska.`;

      mentorSummaryEl.textContent = makeSummary(score);
      resultCard.style.display = "block";
      statusPill.textContent = passed ? "Kandidat prolazi prag" : "Kandidat ne prolazi prag";

      paintShareButtons(score);

      // scroll do rezultata
      resultCard.scrollIntoView({ behavior: "smooth", block: "start" });
    });

    btnReset.addEventListener("click", ()=>{
      quizForm.reset();
      resultCard.style.display = "none";
      statusPill.textContent = "Spreman za ispunjavanje";
      setInviteUI();
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    btnCopy.addEventListener("click", copyResults);
    btnEmail.addEventListener("click", sendEmail);
    btnWA.addEventListener("click", sendWhatsApp);
    btnTG.addEventListener("click", sendTelegram);

    // init
    setInviteUI();
  </script>
</body>
</html>
